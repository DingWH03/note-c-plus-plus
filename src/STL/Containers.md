# Containers

容器是用来存储数据的序列，它们提供了不同的存储方式和访问模式。

| 容器类别 | 容器名称 | 描述 |
|---------|--------|------|
| **序列容器 (Sequence Containers)** | **std::vector** | 动态数组，支持快速随机访问。 |
|                      | **std::deque**               | 双端队列，支持快速插入和删除。 |
|                      | **std::list**                | 链表，支持快速插入和删除，但不支持随机访问。 |
| **关联容器 (Associative Containers)** | **std::set**                 | 集合，不允许重复元素。 |
|                      | **std::multiset**            | 多重集合，允许多个元素具有相同的键。 |
|                      | **std::map**                 | 映射，每个键映射到一个值。 |
|                      | **std::multimap**            | 多重映射，存储键值对（pair），其中键是唯一的，但值可以重复，允许一个键映射到多个值。 |
| **无序容器 (Unordered Containers)**  | **std::unordered_set**       | 无序集合，哈希表实现，支持快速查找、插入和删除。  |
|                      | **std::unordered_multiset**  | 无序多重集合，哈希表实现，允许多个元素具有相同的键。 |
|                      | **std::unordered_map**       | 无序映射，哈希表实现，每个键映射到一个值。 |
|                      | **std::unordered_multimap**  | 无序多重映射，哈希表实现，允许一个键映射到多个值。 |

## 1. 序列容器

| 特性          | std::list      | std::vector    | std::deque     |
| ----------- | -------------- | -------------- | -------------- |
| **内存结构**    | 非连续内存，双向链表     | 连续内存           | 分段连续内存         |
| **访问性能**    | 顺序访问较快，随机访问慢   | 随机访问快          | 末尾和头部访问都快      |
| **插入/删除性能** | 任意位置插入、删除快     | 末尾插入快，中间位置慢    | 头尾插入、删除快       |
| **适用场景**    | 频繁在中间插入/删除     | 需要高效随机访问       | 需要在头尾快速插入/删除   |
| **迭代器稳定性**  | 稳定，元素插入或删除不会失效 | 插入、删除可能导致迭代器失效 | 插入、删除可能导致迭代器失效 |

## 2. 关联容器

| 特性          | **std::set**        | **std::multiset**   | **std::map**        | **std::multimap**   |
| ----------- | ------------------- | ------------------- | ------------------- | ------------------- |
| **内存结构**    | 红黑树（平衡二叉搜索树）        | 红黑树（平衡二叉搜索树）        | 红黑树（平衡二叉搜索树）        | 红黑树（平衡二叉搜索树）        |
| **访问性能**    | 查找、插入、删除均为 O(log n) | 查找、插入、删除均为 O(log n) | 查找、插入、删除均为 O(log n) | 查找、插入、删除均为 O(log n) |
| **插入/删除性能** | 插入、删除时会自动保持元素有序     | 插入、删除时会自动保持元素有序     | 插入、删除时会自动保持键的有序     | 插入、删除时会自动保持键的有序     |
| **允许重复元素**  | 不允许元素重复             | 允许多个相同的元素           | 不允许键重复，但值可以重复       | 允许多个相同的键值对          |
| **适用场景**    | 需要唯一元素且不重复的集合       | 需要存储多个相同元素的集合       | 需要键值映射，每个键对应一个值     | 需要存储多个值对相同键的映射      |
| **键值对**     | 不存在值，只有键（元素）        | 不存在值，只有键（元素）        | 存在键值对，键映射到一个值       | 存在键值对，键映射到多个值（允许重复） |
| **迭代器稳定性**  | 插入或删除元素不会使迭代器失效     | 插入或删除元素不会使迭代器失效     | 插入或删除可能使迭代器失效       | 插入或删除可能使迭代器失效       |

## 3. 无序容器

| 特性          | **std::unordered\_set** | **std::unordered\_multiset** | **std::unordered\_map** | **std::unordered\_multimap** |
| ----------- | ----------------------- | ---------------------------- | ----------------------- | ---------------------------- |
| **内存结构**    | 哈希表实现                   | 哈希表实现                        | 哈希表实现                   | 哈希表实现                        |
| **访问性能**    | 平均 O(1)，最坏 O(n)         | 平均 O(1)，最坏 O(n)              | 平均 O(1)，最坏 O(n)         | 平均 O(1)，最坏 O(n)              |
| **插入/删除性能** | 平均 O(1)，最坏 O(n)         | 平均 O(1)，最坏 O(n)              | 平均 O(1)，最坏 O(n)         | 平均 O(1)，最坏 O(n)              |
| **允许重复元素**  | 不允许元素重复                 | 允许多个相同的元素                    | 不允许键重复，但值可以重复           | 允许多个相同的键值对                   |
| **适用场景**    | 需要存储唯一元素且不关心顺序          | 需要存储多个相同元素的集合                | 需要键值映射，每个键对应一个值         | 需要存储多个值对相同键的映射               |
| **键值对**     | 存储键，无值                  | 存储键，无值                       | 存储键值对，键映射到一个值           | 存储键值对，键映射到多个值                |
| **迭代器稳定性**  | 插入或删除可能使迭代器失效           | 插入或删除可能使迭代器失效                | 插入或删除可能使迭代器失效           | 插入或删除可能使迭代器失效                |
